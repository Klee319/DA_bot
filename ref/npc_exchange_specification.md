# NPC交換データ仕様

## 概要
NPCテーブルでは、複数のアイテム交換パターンをカンマ区切りで管理します。

## データ形式

### 基本ルール
1. **入手アイテム**と**必要素材**（価格）は、カンマ区切りで複数羅列可能
2. 同じ順番のアイテムが交換ペアとして対応
3. EXPとGOLDも同様にカンマ区切りで対応

### 例：購入タイプ
```
入手アイテム: 始まりの鍛治槌:1, 始まりの作業道具:1
必要素材: 50G, 120G
EXP: 100, 200
GOLD: 100, 200
```
- 始まりの鍛治槌:1 → 50G で購入（EXP:100, GOLD:100）
- 始まりの作業道具:1 → 120G で購入（EXP:200, GOLD:200）

### 例：交換タイプ（複数素材必要）
```
入手アイテム: 上級装備:1, 特殊装備:1
必要素材: 素材A:2素材B:3, 素材C:5
```
- 上級装備:1 → 素材A:2と素材B:3が必要（「:」で区切った複数素材）
- 特殊装備:1 → 素材C:5が必要

### EXPの特殊形式
- `EXP250,200,600` のようにEXPプレフィックス付きで記載される場合がある
- 処理時はプレフィックスを除去して数値部分のみ抽出

## 実装上の注意点
1. 必要素材の「アイテム名:数量」の連続記述は、ひとまとまりの交換元として扱う
2. カンマは交換パターンの区切り、コロンは数量の区切り
3. 価格表記（例：50G）も必要素材として扱う